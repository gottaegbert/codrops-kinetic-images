(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2606:(i,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>o});var n=t(3365),a=t(1521),s=t(8233),r=t(9439),l=t(3260),d=t.n(l);function o(){var i;let{exhibition:e,loading:t,error:l}=(0,s.m)(),[o,c]=(0,a.useState)(!1),h=async i=>{let e=Array.from(i.target.files);if(0!==e.length){c(!0);try{console.log("Files to upload:",e),alert("Please use Sanity Studio to create exhibitions and upload images"),c(!1)}catch(i){console.error("Upload error:",i),alert("Upload failed"),c(!1)}}};return t?(0,n.jsx)("div",{className:d().loading,children:"Loading exhibition data..."}):l?(0,n.jsxs)("div",{className:d().error,children:["Error loading exhibition: ",l.message]}):(0,n.jsxs)("div",{className:d().admin,children:[(0,n.jsx)("h1",{children:"Gallery Management"}),(0,n.jsxs)("div",{className:d().statusSection,children:[(0,n.jsx)("h2",{children:"Exhibition Status"}),e?(0,n.jsxs)("div",{className:d().currentExhibition,children:[(0,n.jsxs)("h3",{children:["Current Exhibition: ",e.title]}),(0,n.jsxs)("p",{children:["Artist: ",e.artist||"Not specified"]}),(0,n.jsxs)("p",{children:["Images: ",(null==(i=e.images)?void 0:i.length)||0]}),e.date&&(0,n.jsxs)("p",{children:["Date: ",new Date(e.date).toLocaleDateString()]}),e.description&&(0,n.jsxs)("p",{children:["Description: ",e.description]})]}):(0,n.jsx)("div",{className:d().noExhibition,children:(0,n.jsx)("p",{children:"No current exhibition set. Create one in Sanity Studio."})})]}),(0,n.jsxs)("div",{className:d().uploadSection,children:[(0,n.jsx)("h2",{children:"Upload New Images"}),(0,n.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:h,disabled:o}),o&&(0,n.jsx)("p",{children:"Uploading..."}),(0,n.jsxs)("div",{className:d().instructions,children:[(0,n.jsx)("h3",{children:"\uD83D\uDCCB Simple Upload Instructions"}),(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:["Open ",(0,n.jsx)("a",{href:"/studio",target:"_blank",rel:"noopener noreferrer",children:"Sanity Studio"})]}),(0,n.jsx)("li",{children:'Click "\uD83D\uDCC1 Exhibitions"'}),(0,n.jsx)("li",{children:"Create a new Exhibition or edit existing"}),(0,n.jsx)("li",{children:'Set "Current Exhibition" to âœ“ to display on homepage'}),(0,n.jsx)("li",{children:'In "Exhibition Images" section, drag and drop up to 10 images'}),(0,n.jsx)("li",{children:"Add Alt Text for each image"}),(0,n.jsx)("li",{children:'Click "Publish"'})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"That's it!"})," Images will appear in the 3D gallery automatically."]})]})]}),e&&e.images&&e.images.length>0&&(0,n.jsxs)("div",{className:d().gallerySection,children:[(0,n.jsxs)("h2",{children:["Current Exhibition Images (",e.images.length,")"]}),(0,n.jsx)("div",{className:d().imageGrid,children:e.images.map((i,e)=>(0,n.jsxs)("div",{className:d().imageItem,children:[(0,n.jsx)("div",{className:d().imageWrapper,children:(0,n.jsx)("img",{src:(0,r.Qc)(i,{width:300,height:300,quality:80}),alt:i.alt||"Image ".concat(e+1),className:d().image})}),(0,n.jsxs)("div",{className:d().imageInfo,children:[(0,n.jsx)("h3",{children:i.title||"Image ".concat(e+1)}),(0,n.jsxs)("p",{children:["Position: ",e+1]})]})]},e))})]}),(0,n.jsxs)("div",{className:d().actions,children:[(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:d().refreshBtn,children:"Refresh Gallery"}),(0,n.jsx)("a",{href:"/studio",className:d().studioBtn,target:"_blank",rel:"noopener noreferrer",children:"Open Sanity Studio"})]})]})}},3260:i=>{i.exports={admin:"admin_admin__vobhr",statusSection:"admin_statusSection__twlel",currentExhibition:"admin_currentExhibition__W7Ijg",noExhibition:"admin_noExhibition__G5_WP",allExhibitions:"admin_allExhibitions__iyWAO",status:"admin_status__ioReN",uploadSection:"admin_uploadSection__zBCmV",instructions:"admin_instructions__t1Iot",loading:"admin_loading__LmTrZ",error:"admin_error__QyYED",imageGrid:"admin_imageGrid__nBpO0",imageItem:"admin_imageItem__IwwTU",imageWrapper:"admin_imageWrapper__arXU0",image:"admin_image__l_7cR",featuredBadge:"admin_featuredBadge__vgPbZ",imageInfo:"admin_imageInfo__wJEze",tags:"admin_tags__WN9mD",tag:"admin_tag__bVgpC",legacyNote:"admin_legacyNote__rgOyL",emptyState:"admin_emptyState__ql_3x",actions:"admin_actions__KIHsf",refreshBtn:"admin_refreshBtn__xn2tq",studioBtn:"admin_studioBtn__rTof4"}},4964:(i,e,t)=>{"use strict";t.d(e,{d:()=>n});let n='\n  *[_type == "exhibition" && isCurrent == true][0] {\n    _id,\n    title,\n    slug,\n    description,\n    artist,\n    date,\n    images[] {\n      asset->{\n        _id,\n        url,\n        metadata {\n          dimensions,\n          lqip,\n          blurhash,\n          palette\n        }\n      },\n      alt,\n      title,\n      hotspot\n    }\n  }\n'},5113:(i,e,t)=>{Promise.resolve().then(t.bind(t,2606))},8233:(i,e,t)=>{"use strict";t.d(e,{m:()=>r});var n=t(1521),a=t(9439),s=t(4964);function r(){let[i,e]=(0,n.useState)(null),[t,r]=(0,n.useState)(!0),[l,d]=(0,n.useState)(null);return(0,n.useEffect)(()=>{!async function(){try{r(!0),d(null);let i=await a.Sn.fetch(s.d);e(i)}catch(i){console.error("Error fetching current exhibition:",i),d(i)}finally{r(!1)}}()},[]),{exhibition:i,loading:t,error:l,refetch:async()=>{try{r(!0),d(null);let i=await a.Sn.fetch(s.d);e(i)}catch(i){console.error("Error fetching current exhibition:",i),d(i)}finally{r(!1)}}}}},9439:(i,e,t)=>{"use strict";t.d(e,{Qc:()=>d,Sn:()=>r});var n=t(9298),a=t(9168),s=t(636);let r=(0,n.UU)({projectId:s.env.NEXT_PUBLIC_SANITY_PROJECT_ID||"k2sljkbk",dataset:s.env.NEXT_PUBLIC_SANITY_DATASET||"production",useCdn:!0,apiVersion:s.env.NEXT_PUBLIC_SANITY_API_VERSION||"2024-01-01",token:s.env.SANITY_API_READ_TOKEN,perspective:"published",stega:!1}),l=a(r);function d(i){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i)return null;let t=l.image(i);return e.width&&(t=t.width(e.width)),e.height&&(t=t.height(e.height)),e.quality&&(t=t.quality(e.quality)),e.format&&(t=t.format(e.format)),e.fit&&(t=t.fit(e.fit)),e.quality||(t=t.quality(85)),e.format||(t=t.format("webp")),t.url()}}},i=>{var e=e=>i(i.s=e);i.O(0,[723,111,347,870,358],()=>e(5113)),_N_E=i.O()}]);