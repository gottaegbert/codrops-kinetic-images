(()=>{var e={};e.id=698,e.ids=[698],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},13121:(e,t,i)=>{"use strict";i.d(t,{m:()=>a});var r=i(64996),s=i(62317),n=i(45124);function a(){let[e,t]=(0,r.useState)(null),[i,a]=(0,r.useState)(!0),[o,d]=(0,r.useState)(null);return{exhibition:e,loading:i,error:o,refetch:async()=>{try{a(!0),d(null);let e=await s.Sn.fetch(n.d);t(e)}catch(e){console.error("Error fetching current exhibition:",e),d(e)}finally{a(!1)}}}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26423:(e,t,i)=>{Promise.resolve().then(i.bind(i,77454))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},45124:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});let r=`
  *[_type == "exhibition" && isCurrent == true][0] {
    _id,
    title,
    slug,
    description,
    artist,
    date,
    images[] {
      asset->{
        _id,
        url,
        metadata {
          dimensions,
          lqip,
          blurhash,
          palette
        }
      },
      alt,
      title,
      hotspot
    }
  }
`},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62317:(e,t,i)=>{"use strict";i.d(t,{Qc:()=>o,Sn:()=>n});var r=i(33184),s=i(23941);let n=(0,r.UU)({projectId:process.env.NEXT_PUBLIC_SANITY_PROJECT_ID||"k2sljkbk",dataset:process.env.NEXT_PUBLIC_SANITY_DATASET||"production",useCdn:!0,apiVersion:process.env.NEXT_PUBLIC_SANITY_API_VERSION||"2024-01-01",token:process.env.SANITY_API_READ_TOKEN,perspective:"published",stega:!1}),a=s(n);function o(e,t={}){if(!e)return null;let i=a.image(e);return t.width&&(i=i.width(t.width)),t.height&&(i=i.height(t.height)),t.quality&&(i=i.quality(t.quality)),t.format&&(i=i.format(t.format)),t.fit&&(i=i.fit(t.fit)),t.quality||(i=i.quality(85)),t.format||(i=i.format("webp")),i.url()}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63215:(e,t,i)=>{Promise.resolve().then(i.bind(i,96648))},72681:e=>{e.exports={admin:"admin_admin__vobhr",statusSection:"admin_statusSection__twlel",currentExhibition:"admin_currentExhibition__W7Ijg",noExhibition:"admin_noExhibition__G5_WP",allExhibitions:"admin_allExhibitions__iyWAO",status:"admin_status__ioReN",uploadSection:"admin_uploadSection__zBCmV",instructions:"admin_instructions__t1Iot",loading:"admin_loading__LmTrZ",error:"admin_error__QyYED",imageGrid:"admin_imageGrid__nBpO0",imageItem:"admin_imageItem__IwwTU",imageWrapper:"admin_imageWrapper__arXU0",image:"admin_image__l_7cR",featuredBadge:"admin_featuredBadge__vgPbZ",imageInfo:"admin_imageInfo__wJEze",tags:"admin_tags__WN9mD",tag:"admin_tag__bVgpC",legacyNote:"admin_legacyNote__rgOyL",emptyState:"admin_emptyState__ql_3x",actions:"admin_actions__KIHsf",refreshBtn:"admin_refreshBtn__xn2tq",studioBtn:"admin_studioBtn__rTof4"}},74075:e=>{"use strict";e.exports=require("zlib")},77454:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hu/Documents/GitHub/codrops-kinetic-images/frontend/src/app/admin/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hu/Documents/GitHub/codrops-kinetic-images/frontend/src/app/admin/page.jsx","default")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83974:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=i(5853),s=i(60554),n=i(30708),a=i.n(n),o=i(8067),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);i.d(t,d);let l={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,77454)),"/Users/hu/Documents/GitHub/codrops-kinetic-images/frontend/src/app/admin/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,89028)),"/Users/hu/Documents/GitHub/codrops-kinetic-images/frontend/src/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/hu/Documents/GitHub/codrops-kinetic-images/frontend/src/app/admin/page.jsx"],u={require:i,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94638:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(41808);let s=async e=>[{type:"image/x-icon",sizes:"32x30",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},94735:e=>{"use strict";e.exports=require("events")},96648:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var r=i(28625),s=i(64996),n=i(13121),a=i(62317),o=i(72681),d=i.n(o);function l(){let{exhibition:e,loading:t,error:i}=(0,n.m)(),[o,l]=(0,s.useState)(!1),c=async e=>{let t=Array.from(e.target.files);if(0!==t.length){l(!0);try{console.log("Files to upload:",t),alert("Please use Sanity Studio to create exhibitions and upload images"),l(!1)}catch(e){console.error("Upload error:",e),alert("Upload failed"),l(!1)}}};return t?(0,r.jsx)("div",{className:d().loading,children:"Loading exhibition data..."}):i?(0,r.jsxs)("div",{className:d().error,children:["Error loading exhibition: ",i.message]}):(0,r.jsxs)("div",{className:d().admin,children:[(0,r.jsx)("h1",{children:"Gallery Management"}),(0,r.jsxs)("div",{className:d().statusSection,children:[(0,r.jsx)("h2",{children:"Exhibition Status"}),e?(0,r.jsxs)("div",{className:d().currentExhibition,children:[(0,r.jsxs)("h3",{children:["Current Exhibition: ",e.title]}),(0,r.jsxs)("p",{children:["Artist: ",e.artist||"Not specified"]}),(0,r.jsxs)("p",{children:["Images: ",e.images?.length||0]}),e.date&&(0,r.jsxs)("p",{children:["Date: ",new Date(e.date).toLocaleDateString()]}),e.description&&(0,r.jsxs)("p",{children:["Description: ",e.description]})]}):(0,r.jsx)("div",{className:d().noExhibition,children:(0,r.jsx)("p",{children:"No current exhibition set. Create one in Sanity Studio."})})]}),(0,r.jsxs)("div",{className:d().uploadSection,children:[(0,r.jsx)("h2",{children:"Upload New Images"}),(0,r.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:c,disabled:o}),o&&(0,r.jsx)("p",{children:"Uploading..."}),(0,r.jsxs)("div",{className:d().instructions,children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCB Simple Upload Instructions"}),(0,r.jsxs)("ol",{children:[(0,r.jsxs)("li",{children:["Open ",(0,r.jsx)("a",{href:"/studio",target:"_blank",rel:"noopener noreferrer",children:"Sanity Studio"})]}),(0,r.jsx)("li",{children:'Click "\uD83D\uDCC1 Exhibitions"'}),(0,r.jsx)("li",{children:"Create a new Exhibition or edit existing"}),(0,r.jsx)("li",{children:'Set "Current Exhibition" to âœ“ to display on homepage'}),(0,r.jsx)("li",{children:'In "Exhibition Images" section, drag and drop up to 10 images'}),(0,r.jsx)("li",{children:"Add Alt Text for each image"}),(0,r.jsx)("li",{children:'Click "Publish"'})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"That's it!"})," Images will appear in the 3D gallery automatically."]})]})]}),e&&e.images&&e.images.length>0&&(0,r.jsxs)("div",{className:d().gallerySection,children:[(0,r.jsxs)("h2",{children:["Current Exhibition Images (",e.images.length,")"]}),(0,r.jsx)("div",{className:d().imageGrid,children:e.images.map((e,t)=>(0,r.jsxs)("div",{className:d().imageItem,children:[(0,r.jsx)("div",{className:d().imageWrapper,children:(0,r.jsx)("img",{src:(0,a.Qc)(e,{width:300,height:300,quality:80}),alt:e.alt||`Image ${t+1}`,className:d().image})}),(0,r.jsxs)("div",{className:d().imageInfo,children:[(0,r.jsx)("h3",{children:e.title||`Image ${t+1}`}),(0,r.jsxs)("p",{children:["Position: ",t+1]})]})]},t))})]}),(0,r.jsxs)("div",{className:d().actions,children:[(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:d().refreshBtn,children:"Refresh Gallery"}),(0,r.jsx)("a",{href:"/studio",className:d().studioBtn,target:"_blank",rel:"noopener noreferrer",children:"Open Sanity Studio"})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[683,143,808,628,356],()=>i(83974));module.exports=r})();